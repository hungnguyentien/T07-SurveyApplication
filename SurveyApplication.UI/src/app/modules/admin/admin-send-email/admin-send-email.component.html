<p-toast [style]="{ width: '20vw', height: '5vh' }"></p-toast>
<!-- <p-confirmDialog #cd [style]="{width: '30vw'}">
  <ng-template pTemplate="header">
    <h5>Xác nhận xoá đơn vị</h5>
  </ng-template>
  <ng-template pTemplate="footer">
    <button type="button" pButton icon="pi pi-times" class="custom-small-button" label="No" (click)="cd.reject()"></button>
    <button type="button" pButton icon="pi pi-check" class="custom-small-button" label="Yes" (click)="cd.accept()"></button>
  </ng-template>
</p-confirmDialog> -->
<div>
  <h5>Danh sách gửi email</h5>
  <form class="form-inline mt-4">
    <div class="form-group mb-2">
      <label for="inputPassword2" class="sr-only">Search</label>
      <input type="text" class="form-control" id="inputPassword2" placeholder="Nhập từ khoá" [(ngModel)]="keyword"
        name="keyword">
    </div>
    <button type="submit" class="btn btn-primary ml-2 mb-2">
      <i class="pi pi-search"></i>
    </button>
  </form>
</div>
<div class="card mt-3">
  <p-table #dt ngClass="cust-tbl" [value]="datas" [lazy]="true" (onLazyLoad)="loadListLazy($event)" [scrollable]="true"
    scrollHeight="calc(100vh - 396px)" [(selection)]="selectedSendEmail" dataKey="id"
    styleClass="p-datatable-gridlines p-datatable-striped" [rowHover]="true" [rows]="10" [showCurrentPageReport]="true"
    [rowsPerPageOptions]="[10, 25, 50]" [loading]="loading" [paginator]="true" [totalRecords]="dataTotalRecords"
    currentPageReportTemplate="Hiển thị từ {first} đến {last} của {totalRecords} bản ghi" [filterDelay]="0">
    <ng-template pTemplate="header">
      <tr>
        <th style="min-width: 0rem">
          STT
        </th>
        <th style="min-width: 8rem">
          <div class="flex justify-content-between align-items-center">
            Mã bảng ks
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 14rem">
          <div class="flex justify-content-between align-items-center">
            Tên bảng khảo sát
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 8rem">
          <div class="flex justify-content-between align-items-center">
            Email đã gửi
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 8rem">
          <div class="flex justify-content-between align-items-center">
            Thành Công
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 8rem">
          <div class="flex justify-content-between align-items-center">
            Gửi lỗi
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 8rem">
          <div class="flex justify-content-between align-items-center">
            Thu hồi
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 8rem">
          <div class="flex justify-content-between align-items-center">
            Thời gian
            <div type="text" display="menu" class="ml-auto"></div>
          </div>
        </th>
        <th style="min-width: 6rem">
          <div>
            Chức năng
          </div>
        </th>

      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-rowData let-rowIndex="rowIndex">
      <tr class="p-selectable-row">
        <td>
          <span class="p-column-title">STT</span>
          {{ rowIndex + 1}}
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{ rowData.maBangKhaoSat }}</span>
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{ rowData.tenBangKhaoSat }}</span>
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{ rowData.countSendEmail }}</span>
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{ rowData.countSendThanhCong }}</span>
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{ rowData.countSendLoi }}</span>
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{ rowData.countSendThuHoi }}</span>
        </td>
        <td>
          <span class="ml-1 vertical-align-middle">{{rowData.ngayBatDau | date:'dd/MM/yyyy'}} - {{rowData.ngayKetThuc
            |
            date:'dd/MM/yyyy'}}</span>
        </td>
        <td>
          <a class="m-3">
            <span data-toggle="modal" data-target="#createForm" class="pi pi-pencil" title="Cập nhật"
              aria-hidden="true"></span>
          </a>
        </td>
      </tr>
    </ng-template>
  </p-table>
</div>